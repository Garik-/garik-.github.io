<!DOCTYPE html><html lang="ru"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"><meta name="robots" content="index,noarchive,follow,max-image-preview:large"><meta name="referrer" content="unsafe-url"><link rel="stylesheet" href="/stylesheets/style.d0b9e4490a.css"><link rel="icon" href="/images/favicon.ico"><link rel="apple-touch-icon" href="/images/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><title>HEX 2 BIN | by Igor Riakhovskii</title><meta name="title" content="HEX 2 BIN | by Igor Riakhovskii"><meta name="description" content="Задали вопрос на ачатике, как перевести строку вида &quot;315c4eeaa8b5f8aaf9174145bf43e1784b8fa00dc71d885a80..."><meta property="og:title" content="HEX 2 BIN"><meta property="og:description" content="Задали вопрос на ачатике, как перевести строку вида &quot;315c4eeaa8b5f8aaf9174145bf43e1784b8fa00dc71d885a80..."><meta property="og:url" content="https://garik-.github.io/hex-2-bin.html"><meta property="og:site_name" content="Igor Riakhovskii"><meta property="og:type" content="article"><meta property="article:published_time" content="2012-04-07T23:31:00+04:00"><meta property="article:modified_time" content="2012-04-07T23:31:00+04:00"><meta property="profile:first_name" content="Igor"><meta property="profile:last_name" content="Riakhovskii"><meta property="profile:username" content="garikdjan"><link rel="author" href="https://garik-.github.io/"><link rel="canonical" href="https://garik-.github.io/hex-2-bin.html"><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","url":"https://garik-.github.io/hex-2-bin.html","dateCreated":"2012-04-07T23:31:00+04:00","datePublished":"2012-04-07T23:31:00+04:00","dateModified":"2012-04-07T23:31:00+04:00","headline":"HEX 2 BIN","name":"HEX 2 BIN","description":"Задали вопрос на ачатике, как перевести строку вида \"315c4eeaa8b5f8aaf9174145bf43e1784b8fa00dc71d885a80...","identifier":84638689,"author":{"@type":"Person","name":"Igor Riakhovskii","url":"https://garik-.github.io/"},"creator":["Igor Riakhovskii"],"mainEntityOfPage":"https://garik-.github.io/hex-2-bin.html"}</script><script src="/javascripts/header.js" defer></script></head><body><header class="header-panel"><div class="header-panel-wrap"><a class="header-panel-logo" href="/" rel="noopener follow">IR</a></div></header><main class="article-layout"><div class="container"><article><h1 class="post-title">HEX 2 BIN</h1><section class="post-info"><a class="author-photo-link" rel="noopener follow" href="/"><img class="author-photo" alt="Igor Riakhovskii" src="/v1/resize:fill:88:88/public/avatar.jpg" width="44" height="44" loading="lazy"><div class="author-photo-shadow"></div></a><div class="post-info-author"><a class="author-name" rel="noopener follow" href="/">Igor Riakhovskii</a><div class="post-info-date"><span>1 min read</span><span class="separator">·</span><span>Apr 7, 2012</span></div></div></section><div class="post-content"><p>Задали вопрос на ачатике, как перевести строку вида "315c4eeaa8b5f8aaf9174145bf43e1784b8fa00dc71d885a80 4e5ee9fa40b16349c146fb778cdf2d3aff021dfff5b403b5" в число.</p>
<p>Время ночь, в голове задача написать минимально извращенный код на Си, хотя опытные программисты под Windows могут оправить курить MSDN - <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa380285%28v=vs.85%29.aspx" rel="noopener ugc nofollow" target="_blank">CryptStringToBinary</a>, но ведь без велосипеда не интересно.</p>
<pre><code class="hljs language-c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> BYTE(l,h)           (((l)&#x3C;&#x3C;4)|((h)&#x26;0xFF))</span>
<span class="hljs-type">int</span> <span class="hljs-title function_">hex2bin</span><span class="hljs-params">(<span class="hljs-type">char</span> *hex, <span class="hljs-type">char</span> *bin)</span> {
 <span class="hljs-type">char</span> *p=hex;
 <span class="hljs-type">int</span> size=<span class="hljs-number">0</span>;

 <span class="hljs-keyword">while</span>(*p) *(p++) -= (*p > <span class="hljs-number">0x40</span>) ? <span class="hljs-number">0x57</span> : <span class="hljs-number">0x30</span>;
 <span class="hljs-keyword">do</span> bin[size++] = BYTE( *hex++, *++hex ); <span class="hljs-keyword">while</span>(hex &#x3C; p);

 <span class="hljs-keyword">return</span> size;
}
</code></pre></div></article></div></main><footer class="article-footer"><div class="container"><div class="content"><div class="space"></div><section class="author-section"><a class="author-section-left" rel="noopener follow" href="/"><div class="avatar-box"><img class="avatar mobile-hide" alt="Igor Riakhovskii" src="/v1/resize:fill:96:96/public/avatar.jpg" width="48" height="48" loading="lazy"><div class="avatar-shadow mobile-hide"></div><img class="avatar-big mobile-only" alt="Igor Riakhovskii" src="/v1/resize:fill:128:128/public/avatar.jpg" width="64" height="64" loading="lazy"><div class="avatar-big-shadow mobile-only"></div></div></a><div><a class="author-name" rel="noopener follow" href="/">Written by Igor Riakhovskii</a><div class="author-summary">In commercial development since 2005. At the moment, I am engaged in product development of cloud systems in the role of Technical Lead</div></div></section></div></div></footer></body></html>